{"componentChunkName":"component---src-templates-blog-post-js","path":"/Getting-started-with-STAC-APIs/Getting-started-with-STAC-APIs/","result":{"data":{"site":{"siteMetadata":{"title":"James Santucci's development blog"}},"markdownRemark":{"id":"38bdea1b-eb06-5001-ae8a-924e50de8429","excerpt":"STAC is a specification for “enabling online search and discovery of geospatial assets.”\nRight now, a lot of work has gone into the core specification, with a…","html":"<p><a href=\"https://stacspec.org/\">STAC</a> is a specification for “enabling online search and discovery of geospatial assets.”\nRight now, a lot of work has gone into the core specification, with a 1.0.0-rc1 for the\ncore specification released 20 days ago. Following the core spec’s 1.0.0 release, more\nwork will go into the API spec.</p>\n<center><img src=\"https://stacspec.org/images/logo/STAC-04.png\" width=\"200/\"></center>\n<p>The tooling story on the way to standing up a STAC API is pretty well ironed out. If you want to create\na catalog that follows all the rules in the pretty sizable\n<a href=\"https://github.com/radiantearth/stac-spec/blob/master/best-practices.md\">best practices doc</a>, use <a href=\"https://github.com/stac-utils/pystac\"> <code class=\"language-text\">PySTAC</code> </a>. If you just want a typed STAC datamodel for building\napplications on top of STAC, use [ <code class=\"language-text\">stac-pydantic</code> ] or [ <code class=\"language-text\">stac4s</code> ]. They’re both dogfooded\nin STAC API implementations, <code class=\"language-text\">stac-pydantic</code> in <a href=\"https://github.com/stac-utils/arturo-stac-api\"> <code class=\"language-text\">arturo-stac-api</code> </a> and <code class=\"language-text\">stac4s</code> in <a href=\"https://azavea.github.io/franklin/\"> <code class=\"language-text\">Franklin</code> </a>.</p>\n<p>One area where tools are lacking is clients. Most clients in <a href=\"https://stacindex.org/ecosystem?category=Client\">stacindex.org</a> are either libraries\nthat require you to write code or full on frontend applications. An exception to this\nis <a href=\"https://github.com/sat-utils/sat-search\"> <code class=\"language-text\">sat-search</code> </a> , which is a CLI tool.\nTo support a more interactive browsing adventure, I wrote <a href=\"https://github.com/jisantuc/stac-repl\"> <code class=\"language-text\">stac-repl</code> </a>, which is built on top\nof a PureScript client I wrote called <a href=\"https://github.com/jisantuc/purescript-stac\"> <code class=\"language-text\">purescript-stac</code> </a>.\nI completed both of these as part of 10% time work at <a href=\"https://www.azavea.com/\">Azavea</a>.</p>\n<p>The goal of <code class=\"language-text\">stac-repl</code> is to provide an interactive, ipython-ish experience around browsing\nSTAC APIs. You can run it with <code class=\"language-text\">node</code> by downloading the bundled js file from the <a href=\"https://github.com/jisantuc/stac-repl/releases/tag/v0.1.1\">v0.1.1 release</a> or\nin a container with <code class=\"language-text\">docker run jisantuc/stac-repl:0.1.1</code> .</p>\n<p>You should be able to figure out everything you can do by mashing the <code class=\"language-text\">&lt;TAB&gt;</code> key. For example,\nwhen you start up <code class=\"language-text\">stac-repl</code> , you only get one completion:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">stac &gt; &lt;TAB&gt;\nstac &gt; set root url</code></pre></div>\n<p>For this example, I’ll point the root to a catalog of <a href=\"https://aviris.jpl.nasa.gov/\">AVIRIS</a> data that can be found\nat <code class=\"language-text\">https://franklin.nasa-hsi.azavea.com</code> . Tabbing from there,\ncommands get a little more interesting:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">stac &gt; set root url https://franklin.nasa-hsi.azavea.com\nstac https://franklin.nasa-hsi.azavea.com &gt; &lt;TAB&gt;\nset root url      get conformance   set collection    list collections</code></pre></div>\n<p>Now that we know where the catalog root is, we can check its conformance information, list collections,\nor pick a specific collection. We don’t know any collections yet, so let’s list some (naturally, by typing\njust an <code class=\"language-text\">li</code> and a <code class=\"language-text\">&lt;TAB&gt;</code> ):</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">stac https://franklin.nasa-hsi.azavea.com &gt; list collections\naviris-classic: AVIRIS is an acronym for the Airborne Visible InfraRed Imaging Spectrometer. AVIRIS is a premier instrument in the realm of Earth Remote Sensing. It is a unique optical sensor that delivers calibrated images of the upwelling spectral radiance in 224 contiguous spectral channels (also called bands) with wavelengths from 400 to 2500 nanometers (nm). AVIRIS has been flown on four aircraft platforms: NASA&#39;s ER-2 jet, Twin Otter International&#39;s turboprop, Scaled Composites&#39; Proteus, and NASA&#39;s WB-57. The ER-2 flies at approximately 20 km above sea level, at about 730 km/hr. The Twin Otter aircraft flies at 4km above ground level at 130km/hr. AVIRIS has flown all across the US, plus Canada and Europe. This catalog contains all AVIRIS missions from 2006 - 2019.\n\naviris-ng: AVIRIS is an acronym for the Airborne Visible InfraRed Imaging Spectrometer. AVIRIS is a premier instrument in the realm of Earth Remote Sensing. It is a unique optical sensor that delivers calibrated images of the upwelling spectral radiance in 224 contiguous spectral channels (also called bands) with wavelengths from 400 to 2500 nanometers (nm). AVIRIS has been flown on four aircraft platforms: NASA&#39;s ER-2 jet, Twin Otter International&#39;s turboprop, Scaled Composites&#39; Proteus, and NASA&#39;s WB-57. The ER-2 flies at approximately 20 km above sea level, at about 730 km/hr. The Twin Otter aircraft flies at 4km above ground level at 130km/hr. AVIRIS has flown all across the US, plus Canada and Europe. This catalog contains all AVIRIS missions from 2006 - 2019.\n\naviris-l2-cogs: AVIRIS L2 Refl Imagery converted to pixel-interleaved COGs\n\naviris-l2-chips: A STAC Collection containing COGs created by the nasa-hsi cog-clip activator</code></pre></div>\n<p>When you list collections, <code class=\"language-text\">stac-repl</code> remembers their ids, so when you want\nto pick a collection you can also get tab completions. For example, since all of these collection IDs start with\n<code class=\"language-text\">aviris</code> , <code class=\"language-text\">set collection a&lt;TAB&gt;&lt;TAB&gt;</code> completes to:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">stac https://franklin.nasa-hsi.azavea.com &gt; set collection aviris-\nset collection aviris-classic   set collection aviris-l2-chips  set collection aviris-l2-cogs   set collection aviris-ng</code></pre></div>\n<p>I’ll pick <code class=\"language-text\">aviris-ng</code> .</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">stac https://franklin.nasa-hsi.azavea.com &gt; set collection aviris-ng\nSet context to collection aviris-ng</code></pre></div>\n<p>Now that I’m in a different context, the available commands are different:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">stac https://franklin.nasa-hsi.azavea.com &gt; &lt;TAB&gt;\nview               unset collection   locate collection  get conformance    list items         next page          locate item</code></pre></div>\n<p>Here, the new commands are <code class=\"language-text\">view</code> , <code class=\"language-text\">unset collection</code> , <code class=\"language-text\">list items</code> , <code class=\"language-text\">next page</code> , and <code class=\"language-text\">locate item</code> . Let’s see what items are available:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">stac https://franklin.nasa-hsi.azavea.com &gt; list items\n...\nId: &quot;aviris_ang20140605t182232&quot;\nExtensions: []\nBbox: [-122.73583300000001,38.558091,-122.676149,38.632746999999995]\nAssets:\nftp: ftp://avng_dp:P73axIvP@avng.jpl.nasa.gov/y14_data/ang20140605t182232.tar.gz ((VendorMediaType &quot;application/gzip&quot;))\nrgb: http://avirisng.jpl.nasa.gov/aviris_locator/y14_RGB/ang20140605t182232_RGB.jpeg (JPEG)\nkml_overlay: http://avirisng.jpl.nasa.gov/aviris_locator/y14_KML/ang20140605t182232_overlay_KML.kml ((VendorMediaType &quot;application/vnd.google-earth.kml+xml&quot;))\nrgb_small: http://avirisng.jpl.nasa.gov/aviris_locator/y14_RGB/ang20140605t182232_RGB-W200.jpg (JPEG)\nflight_log: http://avirisng.jpl.nasa.gov/cgi/flights_14.cgi?step=view_flightlog&amp;flight_id=ang20140605t (HTML)\nkml_outline: http://avirisng.jpl.nasa.gov/aviris_locator/y14_KML/ang20140605t182232_outline_KML.kml ((VendorMediaType &quot;application/vnd.google-earth.kml+xml&quot;))</code></pre></div>\n<p>The API returns them 30 at a time, but I’m only showing the last one on the first page to avoid a huge wall of text.\nSimilarly to listing collections, <code class=\"language-text\">stac-repl</code> remembers item IDs so that we can tab complete them for item-specific\ncommands.</p>\n<p>In this case, the only item-specific command is <code class=\"language-text\">locate item</code> , so tabbing after that, we can eventually get to</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">stac https://franklin.nasa-hsi.azavea.com &gt; locate item aviris_ang20140605t182232</code></pre></div>\n<p>This gets us a delightful <a href=\"https://github.com/rastapasta/mapscii/\">Mapscii</a> map.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6b01c5f0da9df8e0f34e48d091301dae/c483d/mapscii-map.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 87.9746835443038%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB20lEQVQ4y41T4XrTMAy0LVmW7dhtU9IN+gt4hRVY2Mb7vxXnOE35gA3y5WtcRSedThfDZM0/L2u9sHNrJjEj9DxfjAp7cv8Bt+Kpn51r+fO3BzMk8Z5ECK9fQ6KtF2JyvLTpmQ2sgT23kihMr1Coh3g4DRq9W2A3MDrvinrPwRMokFtr03VCZAJ5/3H89Hna7eJC+woGpmRFZGXIJG0KXg7cS1hn65TO593pVBxCW+cUvb8q0S/GAtb+rRYTdS6IE7tcMWeLzI8P5l2OdyV7634RFuLd/qJ/5xnE45GKBvUr+Jj0vC9F5e0loQL0ACzv9UYbVdn7IYe3vYK0nYZjjmOJZgNjwJjHWsGGGmP++7ZghOh5H3VMUbXxnx8vBg/sCaTGQUV8SDf+WBsE2+51CocpYE/z8vSlgSVo1HwueSr5OmhbYZPK2iAMIy0xY68q4PfH81cDIWutxkkQup/KEEWz7KchJ7FrfyzJ/SbhCoaSQ52cEwwPb8BtOQsLoWE3ezOKNX+CF4cJb/ZCLEe5Ow7gDFW6eQDeBm5EyPVPoIGbGdsaqR8g0pBCDBxTzCm4Js+tNXZx/FDrIa0m6eXxFjOHpUqKktQfagQ9xYYCb2BRPr4vw/J5fJ8vPwFrJxpY+MlpzQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"mapscii map\"\n        title=\"mapscii map\"\n        src=\"/static/6b01c5f0da9df8e0f34e48d091301dae/f058b/mapscii-map.png\"\n        srcset=\"/static/6b01c5f0da9df8e0f34e48d091301dae/c26ae/mapscii-map.png 158w,\n/static/6b01c5f0da9df8e0f34e48d091301dae/6bdcf/mapscii-map.png 315w,\n/static/6b01c5f0da9df8e0f34e48d091301dae/f058b/mapscii-map.png 630w,\n/static/6b01c5f0da9df8e0f34e48d091301dae/c483d/mapscii-map.png 751w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>This first release of <code class=\"language-text\">stac-repl</code> covers only the most basic interactions, but I’m looking forward to building\nout support for more features like <a href=\"https://github.com/radiantearth/stac-api-spec/tree/v1.0.0-beta.1/item-search\">search</a> and <a href=\"https://github.com/radiantearth/stac-api-spec/tree/v1.0.0-beta.1/ogcapi-features/extensions/transaction\">transactions</a>.</p>","frontmatter":{"title":"Getting started with STAC APIs","date":"March 23, 2021","description":"An introduction to a small console application called `stac-repl` for browsing STAC APIs."}},"previous":null,"next":null},"pageContext":{"id":"38bdea1b-eb06-5001-ae8a-924e50de8429","previousPostId":null,"nextPostId":null}},"staticQueryHashes":["2841359383","3257411868"]}